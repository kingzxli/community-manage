<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.community.mapper.community.RoomMapper">

	<select id="roomList" resultType="com.community.entity.community.vo.RoomVo" parameterType="com.community.entity.community.vo.RoomVo">
		SELECT
			a.id,
			b.name,
			b.phone,
			a.community_id,
			a.room_name,
			a.area,
			a.type 
		FROM
			room a
			LEFT JOIN user b ON b.id = a.user_id 			
		WHERE
			a.is_delete = 0
		<if test="name != null and name != '' ">			
			AND b.name = #{name}
		</if>
		<if test="phone != null and phone != '' ">			
			AND b.phone = #{phone}
		</if>		
		<if test="communityId != null and communityId != '' ">			
			AND a.community_id = #{communityId}
		</if>
		<if test="roomName != null and roomName != '' ">			
			AND a.room_name = #{roomName}
		</if>
		<if test="type != null ">			
			AND a.type = #{type}
		</if>
		ORDER BY a.room_name * 1
	</select>

</mapper>
	
	
	
	
	